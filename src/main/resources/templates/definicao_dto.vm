package models.commons.dtos;

#if ( $gerarJsonAnnotations )
import com.fasterxml.jackson.annotation.JsonProperty;
#end

import java.io.Serializable;
    #foreach ( $import in $importsNecessarios )
import $import;
    #end
import java.util.Objects;


/**
 * Classe que representa informações...
 *
 * <p>Autor: $nomeAutor</p>
 *
 * @since $dataHora
 */
public class $nomeClasse implements Serializable {

    #macroDeclaracaoVariaves
    #if ( $gerarClasseBuilder )
    #macroConstructorBuilder
    #else
    #macroConstructor
    #end
    #macroGetters
    #macroEqualsHashcode
    #if ( $gerarClasseBuilder )
    #macroBuilder
    #end
}

#macro( macroComentario $texto )
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //
    // $texto
    //
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#end

#macro( macroDeclaracaoVariaves )
    #foreach( $definicao in $definicoes )
    private final $StringUtils.join( $definicao.Tipo, ' ', $definicao.NomeAtributo, ';' )
    #end

#end

#macro( macroConstructor )

    #macroComentario( "CONSTRUCTOR" )

    public $nomeClasse() {

        super();
    }

    public $nomeClasse(
        #foreach ( $definicao in $definicoes )
        final $definicao.Tipo $definicao.NomeAtributo#if( $foreach.hasNext ),#end
        #end
    ) {

        #foreach ( $definicao in $definicoes )
        this.$definicao.NomeAtributo = $definicao.NomeAtributo;
        #end
    }

#end

#macro( macroConstructorBuilder )

    #macroComentario( "CONSTRUCTOR" )

    private $nomeClasse( final Builder builder ) {

        #foreach ( $definicao in $definicoes )
        this.$definicao.NomeAtributo = builder.$definicao.NomeAtributo;
        #end
    }

#end


#macro( macroGetters )

    #macroComentario( "GETTERS" )

    #foreach ( $definicao in $definicoes )
    #if ( $gerarJsonAnnotations )
    @JsonProperty( "$definicao.NomeAtributo" )
    #end
    #set ( $nomeMetodo = $StringUtils.capitalize( $definicao.NomeAtributo ) )
    public $definicao.Tipo $StringUtils.join( 'get', $nomeMetodo, '() {' )

        return this.$definicao.NomeAtributo;
    }

    #end
#end

#macro( macroEqualsHashcode )

    #set( $varObj = $StringUtils.join( $StringUtils.lowerCase($StringUtils.substring($nomeClasse,0,1) ), $StringUtils.substring($nomeClasse,1) ) )
    #macroComentario( "EQUALS && HASHCODE" )

    @Override
    public boolean equals( final Object obj ) {

        if ( this == obj ) return true;
        if ( isNull( obj ) || getClass() != o.getClass() ) return false;
        final $nomeClasse $varObj = ($nomeClasse) obj;
        #macroExpressoesEquals( $varObj )
    }

    @Override
    public int hashCode() {

        return Objects.hash(
            #foreach ( $definicao in $identificadores )
                #set ( $metodo = $StringUtils.join( "get", $StringUtils.capitalize( $definicao.NomeAtributo ) ,"()" ) )
            $metodo#if( $foreach.hasNext ),#end
            #end
        );
    }

#end

#macro( macroExpressoesEquals $varObj )
    #set ( $primeiraLinha = true )
    #foreach ( $campo in $identificadores )
        #set ( $metodo = $StringUtils.join( "get", $StringUtils.capitalize( $campo.NomeAtributo ), "()" ) )
        #set ( $expressao = $StringUtils.join( "Objects.equals( ", $metodo, ", ", $campo.NomeAtributo , " )" ) )
        #if ( $primeiraLinha  )
            #set ( $primeiraLinha = false )
        return $expressao
        #else
            && $expressao #if( !$foreach.hasNext );#end
        #end
    #end
#end


#macro( macroBuilder )

    #macroComentario( "BUILDER" )

    public static class Builder {

    #foreach ( $definicao in $definicoes )
        private $definicao.Tipo $definicao.NomeAtributo;
    #end

        public Builder() {

    #foreach ( $definicao in $definicoes )
            this.$definicao.NomeAtributo = null;
    #end
        }

    #foreach ( $definicao in $definicoes )
        #set ( $nomeMetodo = $StringUtils.capitalize( $definicao.NomeAtributo ) )
        public Builder $StringUtils.join( 'com', $nomeMetodo, '(' ) final $definicao.Tipo value ) {

            this.$definicao.NomeAtributo = value;
            return this;
        }

    #end
        public $nomeClasse build() {

            return new $nomeClasse( this );
        }

     }

#end

